import { useState } from 'react';
import svgPaths from "../imports/svg-a0nc1hzwsj";

function BgLinear() {
  return (
    <div className="absolute h-[1040.9px] left-[-182px] top-[-43px] w-[723px]" data-name="bg-linear">
      <div className="absolute inset-[-24.02%_-34.58%_-10.96%_-21.99%]">
        <svg className="block size-full" fill="none" preserveAspectRatio="none" viewBox="0 0 1132 1405">
          <g id="bg-linear">
            <g filter="url(#filter0_gf_2_3631)" id="Ellipse 1434" opacity="0.7">
              <ellipse cx="638" cy="1001.5" fill="var(--fill-0, #D4E7DC)" rx="132" ry="153.5" />
            </g>
            <g filter="url(#filter1_gf_2_3631)" id="Ellipse 1435" opacity="0.7">
              <ellipse cx="434" cy="382" fill="var(--fill-0, #C4E1FF)" rx="184" ry="132" />
            </g>
            <g filter="url(#filter2_gf_2_3631)" id="Ellipse 1436" opacity="0.7">
              <ellipse cx="428.5" cy="678.5" fill="var(--fill-0, #DFDBFE)" rx="222.5" ry="154.5" />
            </g>
            <g filter="url(#filter3_fg_2_3631)" id="Ellipse 1438" opacity="0.7">
              <ellipse cx="363.065" cy="1069.45" fill="var(--fill-0, #FFF6E5)" rx="132" ry="179.5" transform="rotate(-30 363.065 1069.45)" />
            </g>
            <foreignObject height="1560" width="1101" x="-13" y="-61">
              <div style={{ backdropFilter: "blur(177px)", clipPath: "url(#bgblur_0_2_3631_clip_path)", height: "100%", width: "100%" }} xmlns="http://www.w3.org/1999/xhtml" />
            </foreignObject>
            <rect data-figma-bg-blur-radius="354" fill="var(--fill-0, white)" fillOpacity="0.1" height="852" id="Rectangle 6" width="393" x="341" y="293" />
            <g filter="url(#filter5_gf_2_3631)" id="Ellipse 1437" opacity="0.7">
              <ellipse cx="750" cy="447" fill="var(--fill-0, #FFD1B7)" rx="132" ry="169" />
            </g>
          </g>
          <defs>
            <filter colorInterpolationFilters="sRGB" filterUnits="userSpaceOnUse" height="807" id="filter0_gf_2_3631" width="764" x="256" y="598">
              <feFlood floodOpacity="0" result="BackgroundImageFix" />
              <feBlend in="SourceGraphic" in2="BackgroundImageFix" mode="normal" result="shape" />
              <feTurbulence baseFrequency="2 2" numOctaves="3" seed="6586" type="fractalNoise" />
              <feDisplacementMap height="100%" in="shape" result="displacedImage" scale="38" width="100%" xChannelSelector="R" yChannelSelector="G" />
              <feMerge result="effect1_texture_2_3631">
                <feMergeNode in="displacedImage" />
              </feMerge>
              <feGaussianBlur result="effect2_foregroundBlur_2_3631" stdDeviation="125" />
            </filter>
            <filter colorInterpolationFilters="sRGB" filterUnits="userSpaceOnUse" height="764" id="filter1_gf_2_3631" width="868" x="0" y="0">
              <feFlood floodOpacity="0" result="BackgroundImageFix" />
              <feBlend in="SourceGraphic" in2="BackgroundImageFix" mode="normal" result="shape" />
              <feTurbulence baseFrequency="2 2" numOctaves="3" seed="6586" type="fractalNoise" />
              <feDisplacementMap height="100%" in="shape" result="displacedImage" scale="38" width="100%" xChannelSelector="R" yChannelSelector="G" />
              <feMerge result="effect1_texture_2_3631">
                <feMergeNode in="displacedImage" />
              </feMerge>
              <feGaussianBlur result="effect2_foregroundBlur_2_3631" stdDeviation="125" />
            </filter>
            <filter colorInterpolationFilters="sRGB" filterUnits="userSpaceOnUse" height="649" id="filter2_gf_2_3631" width="785" x="36" y="354">
              <feFlood floodOpacity="0" result="BackgroundImageFix" />
              <feBlend in="SourceGraphic" in2="BackgroundImageFix" mode="normal" result="shape" />
              <feTurbulence baseFrequency="2 2" numOctaves="3" seed="6586" type="fractalNoise" />
              <feDisplacementMap height="100%" in="shape" result="displacedImage" scale="38" width="100%" xChannelSelector="R" yChannelSelector="G" />
              <feMerge result="effect1_texture_2_3631">
                <feMergeNode in="displacedImage" />
              </feMerge>
              <feGaussianBlur result="effect2_foregroundBlur_2_3631" stdDeviation="85" />
            </filter>
            <filter colorInterpolationFilters="sRGB" filterUnits="userSpaceOnUse" height="537.852" id="filter3_fg_2_3631" width="490.688" x="117.721" y="800.526">
              <feFlood floodOpacity="0" result="BackgroundImageFix" />
              <feBlend in="SourceGraphic" in2="BackgroundImageFix" mode="normal" result="shape" />
              <feGaussianBlur result="effect1_foregroundBlur_2_3631" stdDeviation="25" />
              <feTurbulence baseFrequency="2 2" numOctaves="3" seed="6586" type="fractalNoise" />
              <feDisplacementMap height="100%" in="effect1_foregroundBlur_2_3631" result="displacedImage" scale="38" width="100%" xChannelSelector="R" yChannelSelector="G" />
              <feMerge result="effect2_texture_2_3631">
                <feMergeNode in="displacedImage" />
              </feMerge>
            </filter>
            <clipPath id="bgblur_0_2_3631_clip_path" transform="translate(13 61)">
              <rect height="852" width="393" x="341" y="293" />
            </clipPath>
            <filter colorInterpolationFilters="sRGB" filterUnits="userSpaceOnUse" height="838" id="filter5_gf_2_3631" width="764" x="368" y="28">
              <feFlood floodOpacity="0" result="BackgroundImageFix" />
              <feBlend in="SourceGraphic" in2="BackgroundImageFix" mode="normal" result="shape" />
              <feTurbulence baseFrequency="2 2" numOctaves="3" seed="6586" type="fractalNoise" />
              <feDisplacementMap height="100%" in="shape" result="displacedImage" scale="38" width="100%" xChannelSelector="R" yChannelSelector="G" />
              <feMerge result="effect1_texture_2_3631">
                <feMergeNode in="displacedImage" />
              </feMerge>
              <feGaussianBlur result="effect2_foregroundBlur_2_3631" stdDeviation="125" />
            </filter>
          </defs>
        </svg>
      </div>
    </div>
  );
}

function StatusBarIPhone() {
  return (
    <div className="box-border content-stretch flex flex-col items-start justify-start pb-[30px] pt-[21px] px-0 relative shrink-0 w-full" data-name="Status Bar - iPhone">
      <div className="content-stretch flex items-center justify-between relative shrink-0 w-full">
        <div className="basis-0 grow min-h-px min-w-px relative shrink-0">
          <div className="flex flex-row items-center justify-center relative size-full">
            <div className="box-border content-stretch flex gap-[10px] items-center justify-center pl-[16px] pr-[6px] py-0 relative w-full">
              <div className="font-['SF_Pro:Semibold',_sans-serif] leading-[0] not-italic relative shrink-0 text-[17px] text-black text-center text-nowrap">
                <p className="leading-[22px] whitespace-pre">9:41</p>
              </div>
            </div>
          </div>
        </div>
        <div className="h-[10px] shrink-0 w-[124px]" />
        <div className="basis-0 grow min-h-px min-w-px relative shrink-0">
          <div className="flex flex-row items-center justify-center relative size-full">
            <div className="box-border content-stretch flex gap-[7px] items-center justify-center pl-[6px] pr-[16px] py-0 relative w-full">
              <div className="h-[12.226px] relative shrink-0 w-[19.2px]">
                <svg className="block size-full" fill="none" preserveAspectRatio="none" viewBox="0 0 20 13">
                  <path clipRule="evenodd" d={svgPaths.p1e09e400} fill="var(--fill-0, black)" fillRule="evenodd" />
                </svg>
              </div>
              <div className="h-[12.328px] relative shrink-0 w-[17.142px]">
                <svg className="block size-full" fill="none" preserveAspectRatio="none" viewBox="0 0 18 13">
                  <path clipRule="evenodd" d={svgPaths.p1fac3f80} fill="var(--fill-0, black)" fillRule="evenodd" />
                </svg>
              </div>
              <div className="h-[13px] relative shrink-0 w-[27.328px]">
                <svg className="block size-full" fill="none" preserveAspectRatio="none" viewBox="0 0 28 13">
                  <g>
                    <rect height="12" opacity="0.35" rx="3.8" stroke="var(--stroke-0, black)" width="24" x="0.5" y="0.5" />
                    <path d={svgPaths.p3bbd9700} fill="var(--fill-0, black)" opacity="0.4" />
                    <rect fill="var(--fill-0, black)" height="9" rx="2.5" width="21" x="2" y="2" />
                  </g>
                </svg>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  );
}

function BackButton({ onBack }: { onBack: () => void }) {
  const [isPressed, setIsPressed] = useState(false);

  return (
    <button 
      className={`relative shrink-0 size-[24px] transition-all duration-150 ${isPressed ? 'scale-95 opacity-80' : 'hover:scale-110'}`}
      onMouseDown={() => setIsPressed(true)}
      onMouseUp={() => setIsPressed(false)}
      onMouseLeave={() => setIsPressed(false)}
      onClick={onBack}
    >
      <svg className="block size-full" fill="none" preserveAspectRatio="none" viewBox="0 0 24 24">
        <path d="M19 12H5M12 19l-7-7 7-7" stroke="var(--stroke-0, black)" strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" />
      </svg>
    </button>
  );
}

function PageHeader({ title, onBack }: { title: string; onBack: () => void }) {
  return (
    <div className="content-stretch flex items-center justify-between px-[30px] py-[15px] relative shrink-0 w-full">
      <BackButton onBack={onBack} />
      <div className="font-['SF_Pro_Display:Bold',_sans-serif] leading-[0] not-italic text-[18px] text-black text-center">
        <p className="leading-[normal]">{title}</p>
      </div>
      <div className="w-[24px]" />
    </div>
  );
}

function TermsSection({ title, content }: { title: string; content: string[] }) {
  return (
    <div className="content-stretch flex flex-col gap-[12px] items-start justify-start relative shrink-0 w-full">
      <div className="font-['SF_Pro_Display:Bold',_sans-serif] text-[18px] text-[#212121] w-full">
        <p className="leading-[normal]">{title}</p>
      </div>
      <div className="content-stretch flex flex-col gap-[8px] items-start justify-start relative shrink-0 w-full">
        {content.map((paragraph, index) => (
          <div key={index} className="font-['SF_Pro_Display:Regular',_sans-serif] text-[14px] text-[#606060] w-full">
            <p className="leading-[1.4]">{paragraph}</p>
          </div>
        ))}
      </div>
    </div>
  );
}

function InfoCard({ title, date, version }: { title: string; date: string; version: string }) {
  return (
    <div className="bg-white rounded-[16px] p-[20px] relative shrink-0 w-full">
      <div className="content-stretch flex flex-col gap-[12px] items-start justify-start relative w-full">
        <div className="font-['SF_Pro_Display:Bold',_sans-serif] text-[16px] text-black">
          <p className="leading-[normal]">{title}</p>
        </div>
        <div className="content-stretch flex flex-col gap-[4px] items-start justify-start relative w-full">
          <div className="font-['SF_Pro_Display:Regular',_sans-serif] text-[14px] text-[#606060]">
            <p className="leading-[normal]">Dernière mise à jour : {date}</p>
          </div>
          <div className="font-['SF_Pro_Display:Regular',_sans-serif] text-[14px] text-[#606060]">
            <p className="leading-[normal]">Version : {version}</p>
          </div>
        </div>
      </div>
    </div>
  );
}

export function TermsPage({ onBack }: { onBack: () => void }) {
  return (
    <div className="bg-white block overflow-clip relative rounded-[44px] size-full">
      <BgLinear />
      
      <div className="absolute content-stretch flex flex-col h-[732px] items-start justify-start left-0 top-0 w-[393px]">
        <StatusBarIPhone />
        <PageHeader title="Conditions Générales d'Utilisation" onBack={onBack} />
        
        <div className="basis-0 grow min-h-px min-w-px relative shrink-0 w-full">
          <div className="overflow-x-clip overflow-y-auto relative size-full">
            <div className="box-border content-stretch flex flex-col gap-[24px] items-start justify-start px-[30px] py-[20px] relative size-full">
              
              <InfoCard 
                title="Conditions Générales d'Utilisation de Sencia"
                date="15 septembre 2024"
                version="2.1"
              />

              <TermsSection
                title="1. Acceptation des conditions"
                content={[
                  "En téléchargeant, installant ou utilisant l'application Sencia, vous acceptez d'être lié par ces Conditions Générales d'Utilisation (CGU).",
                  "Si vous n'acceptez pas ces conditions, veuillez ne pas utiliser l'application."
                ]}
              />

              <TermsSection
                title="2. Description du service"
                content={[
                  "Sencia est une application mobile de suivi de santé permettant aux utilisateurs de surveiller leurs données médicales, de recevoir des rappels de médicaments et de générer des rapports de santé.",
                  "L'application est destinée à un usage personnel et ne remplace pas les conseils médicaux professionnels."
                ]}
              />

              <TermsSection
                title="3. Confidentialité et données"
                content={[
                  "Vos données de santé sont chiffrées localement sur votre appareil.",
                  "Nous ne partageons jamais vos données personnelles sans votre consentement explicite.",
                  "Vous conservez le contrôle total sur vos données et pouvez les exporter ou les supprimer à tout moment."
                ]}
              />

              <TermsSection
                title="4. Responsabilités de l'utilisateur"
                content={[
                  "Vous êtes responsable de la précision des données que vous saisissez dans l'application.",
                  "Vous devez consulter un professionnel de santé pour toute décision médicale importante.",
                  "L'application ne doit pas être utilisée en cas d'urgence médicale."
                ]}
              />

              <TermsSection
                title="5. Abonnements et paiements"
                content={[
                  "Sencia propose un plan gratuit avec des fonctionnalités limitées et un plan Premium avec des fonctionnalités avancées.",
                  "Les abonnements se renouvellent automatiquement jusqu'à annulation.",
                  "Vous pouvez annuler votre abonnement à tout moment dans les paramètres de votre compte."
                ]}
              />

              <TermsSection
                title="6. Limitation de responsabilité"
                content={[
                  "Sencia ne peut être tenu responsable des dommages résultant de l'utilisation de l'application.",
                  "L'application est fournie 'en l'état' sans garantie d'aucune sorte.",
                  "En cas de dysfonctionnement, notre responsabilité est limitée au remboursement de l'abonnement."
                ]}
              />

              <TermsSection
                title="7. Modifications des conditions"
                content={[
                  "Nous nous réservons le droit de modifier ces CGU à tout moment.",
                  "Les utilisateurs seront informés des modifications importantes par notification dans l'application.",
                  "L'utilisation continue de l'application après modification constitue une acceptation des nouvelles conditions."
                ]}
              />

              <TermsSection
                title="8. Contact"
                content={[
                  "Pour toute question concernant ces CGU, contactez-nous à l'adresse : legal@sencia.app",
                  "Notre équipe support est disponible 24h/7j pour répondre à vos questions."
                ]}
              />

              {/* Bottom spacing */}
              <div className="h-[100px] w-full" />
            </div>
          </div>
        </div>
      </div>
    </div>
  );
}